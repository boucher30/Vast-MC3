<!DOCTYPE html>
<html lang="en">

<head>


    
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <style>
        .axis path {
            fill: none;
            stroke: #777;
            shape-rendering: crispEdges;
        }
        .axis text {
            font-family: Lato;
            font-size: 13px;
        }

        svg{
            margin: 10px;
            border: 10px;
            padding: 10px;
        }
    </style>

</head>

<body>

    <div class="container">

        <div class="jumbotron">
            <input type="file" id="csv-file" name="files"/>

            <svg id="days_all" width="1200" height="600"></svg>
            <svg id="days_call" width="1200" height="600"></svg>
            <svg id="days_email" width="1200" height="600"></svg>
            <svg id="days_purchase" width="1200" height="600"></svg>
            <svg id="days_meeting" width="1200" height="600"></svg>
            <svg id="months_all" width="1200" height="600"></svg>
            <svg id="months_call" width="1200" height="600"></svg>
            <svg id="months_email" width="1200" height="600"></svg>
            <svg id="months_purchase" width="1200" height="600"></svg>
            <svg id="months_meeting" width="1200" height="600"></svg>
            <svg id="years_all" width="1200" height="600"></svg>
            <svg id="years_call" width="1200" height="600"></svg>
            <svg id="years_email" width="1200" height="600"></svg>
            <svg id="years_purchase" width="1200" height="600"></svg>
            <svg id="years_meeting" width="1200" height="600"></svg>
            <script src="https://d3js.org/d3.v5.min.js"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.min.js"></script>
			
			<script>
				var minDate;
				var maxDate;
				var days = [[],[],[],[]];
				  var months = [[],[],[],[]];
				  var years = [[],[],[],[]];
				  
				  var dayMax = [0,0,0,0];
				  var monthMax = [0,0,0,0];
				  var yearMax = [0,0,0,0];
				try{
				  
	 
				  function handleFileSelect(evt) {
					console.log("Start");
					var file = evt.target.files[0];
					minDate = new Date(2020,1,1);
					var maxDate = new Date(2010,1,1);
					var maxCount = 0;
				 
					Papa.parse(file, {
					  dynamicTyping: true,
					  step: function(row) {
						var data = row.data;
						
						var a = new Date(data[0][1]);
						
						if(a < minDate){
							minDate = a;
						}
						if(a > maxDate){
							maxDate = a;
						}
						if(data[0][0] == 0){
							//console.log("0");
							var flag = false;
							for(var j = 0; !flag && j < days[0].length; j++){
								if(days[0][j].Date.getDate() == a.getDate() && days[0][j].Date.getYear() == a.getYear() && days[0][j].Date.getMonth() == a.getMonth()){
									flag = true;
									days[0][j].Count = days[0][j].Count + 1;
									if(days[0][j].Count > dayMax[0]){
										dayMax[0] = days[0][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								days[0].push({"Count": 1, "Date": a});
							}
							var flag = false;
							for(var j = 0; !flag && j < months[0].length; j++){
								if(months[0][j].Date.getYear() == a.getYear() && months[0][j].Date.getMonth() == a.getMonth()){
									flag = true;
									months[0][j].Count = months[0][j].Count + 1;
									if(months[0][j].Count > monthMax[0]){
										monthMax[0] = months[0][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								months[0].push({"Count": 1, "Date": a});
							}
							for(var j = 0; !flag && j < years[0].length; j++){
								if(years[0][j].Date.getYear() == a.getYear()){
									flag = true;
									years[0][j].Count = years[0][j].Count + 1;
									if(years[0][j].Count > yearMax[0]){
										yearMax[0] = years[0][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								years[0].push({"Count": 1, "Date": a});
							}
						}else if(data[0][0] == 1){
							//console.log("1");
							var flag = false;
							for(var j = 0; !flag && j < days[1].length; j++){
								if(days[1][j].Date.getDate() == a.getDate() && days[1][j].Date.getYear() == a.getYear() && days[1][j].Date.getMonth() == a.getMonth()){
									flag = true;
									days[1][j].Count = days[1][j].Count + 1;
									if(days[1][j].Count > dayMax[1]){
										dayMax[1] = days[1][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 1, Date: " + days[1][j].Date + " Count: " + days[1][j].Count);
								}
							}
							if(!flag){
								days[1].push({"Count": 1, "Date": a});
							}
							var flag = false;
							for(var j = 0; !flag && j < months[1].length; j++){
								if(months[1][j].Date.getYear() == a.getYear() && months[1][j].Date.getMonth() == a.getMonth()){
									flag = true;
									months[1][j].Count = months[1][j].Count + 1;
									if(months[1][j].Count > monthMax[1]){
										monthMax[1] = months[1][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								months[1].push({"Count": 1, "Date": a});
							}
							for(var j = 0; !flag && j < years[1].length; j++){
								if(years[1][j].Date.getYear() == a.getYear()){
									flag = true;
									years[1][j].Count = years[1][j].Count + 1;
									if(years[1][j].Count > yearMax[1]){
										yearMax[1] = years[1][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								years[1].push({"Count": 1, "Date": a});
							}
						}else if(data[0][0] == 2){
							//consle.log("2");
							var flag = false;
							for(var j = 0; !flag && j < days[2].length; j++){
								if(days[2][j].Date.getDate() == a.getDate() && days[2][j].Date.getYear() == a.getYear() && days[2][j].Date.getMonth() == a.getMonth()){
									flag = true;
									days[2][j].Count = days[2][j].Count + 1;
									if(days[2][j].Count > dayMax[2]){
										dayMax[2] = days[2][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 2, Date: " + days[2][j].Date + " Count: " + days[2][j].Count);
								}
							}
							if(!flag){
								days[2].push({"Count": 1, "Date": a});
							}
							var flag = false;
							for(var j = 0; !flag && j < months[2].length; j++){
								if(months[2][j].Date.getYear() == a.getYear() && months[2][j].Date.getMonth() == a.getMonth()){
									flag = true;
									months[2][j].Count = months[2][j].Count + 1;
									if(months[2][j].Count > monthMax[2]){
										monthMax[2] = months[2][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								months[2].push({"Count": 1, "Date": a});
							}
							for(var j = 0; !flag && j < years[2].length; j++){
								if(years[2][j].Date.getYear() == a.getYear()){
									flag = true;
									years[2][j].Count = years[2][j].Count + 1;
									if(years[2][j].Count > yearMax[2]){
										yearMax[2] = years[2][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								years[2].push({"Count": 1, "Date": a});
							}
						}else if(data[0][0] == 3){
							console.log("3");
							var flag = false;
							for(var j = 0; !flag && j < days[3].length; j++){
								if(days[3][j].Date.getDate() == a.getDate() && days[3][j].Date.getYear() == a.getYear() && days[3][j].Date.getMonth() == a.getMonth()){
									flag = true;
									days[3][j].Count = days[3][j].Count + 1;
									if(days[3][j].Count > dayMax[3]){
										dayMax[3] = days[3][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 3, Date: " + days[3][j].Date + " Count: " + days[3][j].Count);
								}
							}
							if(!flag){
								days[3].push({"Count": 1, "Date": a});
							}
							var flag = false;
							for(var j = 0; !flag && j < months[3].length; j++){
								if(months[3][j].Date.getYear() == a.getYear() && months[3][j].Date.getMonth() == a.getMonth()){
									flag = true;
									months[3][j].Count = months[3][j].Count + 1;
									if(months[3][j].Count > monthMax[3]){
										monthMax[3] = months[3][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								months[3].push({"Count": 1, "Date": a});
							}
							for(var j = 0; !flag && j < years[3].length; j++){
								if(years[3][j].Date.getYear() == a.getYear()){
									flag = true;
									years[3][j].Count = years[3][j].Count + 1;
									if(years[3][j].Count > yearMax[3]){
										yearMax[3] = years[3][j].Count;
										//console.log(maxCount);
									}
									//console.log("Type: 0, Date: " + days[0][j].Date + " Count: " + days[0][j].Count);
								}
							}
							if(!flag){
								years[3].push({"Count": 1, "Date": a});
							}
						}
					},
					  complete: function() {
						console.log("All done!!!");
						var vis = d3.select("#days_all"),
								WIDTH = 1000,
								HEIGHT = 500,
								MARGINS = {
									top: 30,
									right: 20,
									bottom: 20,
									left: 50
								},
								xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
								yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, dayMax[1]]),
								xAxis = d3.axisBottom(xScale),
								yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Activities per Day");
							
							vis.append("svg:g")
								.attr("class", "x axis")
								.attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
								.call(xAxis);
							vis.append("svg:g")
								.attr("class", "y axis")
								.attr("transform", "translate(" + (MARGINS.left) + ",0)")
								.call(yAxis);
							var lineGen = d3.line()
								.x(function(d) {
									return xScale(d.Date);
								})
								.y(function(d) {
									return yScale(d.Count);
								});
							vis.append('svg:path')
								.attr('d', lineGen(days[0]))
								.attr('stroke', 'green')
								.attr('stroke-width', 2)
								.attr('fill', 'none');
							vis.append('svg:path')
								.attr('d', lineGen(days[1]))
								.attr('stroke', 'blue')
								.attr('stroke-width', 2)
								.attr('fill', 'none');
							vis.append('svg:path')
								.attr('d', lineGen(days[2]))
								.attr('stroke', 'red')
								.attr('stroke-width', 2)
								.attr('fill', 'none');
							vis.append('svg:path')
								.attr('d', lineGen(days[3]))
								.attr('stroke', 'black')
								.attr('stroke-width', 2)
								.attr('fill', 'none');

                          var vis = d3.select("#days_call"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, dayMax[0]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Calls per Day");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(days[0]))
                              .attr('stroke', 'green')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#days_email"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, dayMax[1]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Emails per Day");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(days[1]))
                              .attr('stroke', 'blue')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#days_purchase"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, dayMax[2]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Purchases per Day");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(days[2]))
                              .attr('stroke', 'red')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#days_meeting"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, dayMax[3]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Meetings per Day");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(days[3]))
                              .attr('stroke', 'black')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#months_all"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, monthMax[1]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Activities per Month");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(months[0]))
                              .attr('stroke', 'green')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');
                          vis.append('svg:path')
                              .attr('d', lineGen(months[1]))
                              .attr('stroke', 'blue')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');
                          vis.append('svg:path')
                              .attr('d', lineGen(months[2]))
                              .attr('stroke', 'red')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');
                          vis.append('svg:path')
                              .attr('d', lineGen(months[3]))
                              .attr('stroke', 'black')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#months_call"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, monthMax[0]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Calls per Month");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(months[0]))
                              .attr('stroke', 'green')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#months_email"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, monthMax[1]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Emails per Month");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(months[1]))
                              .attr('stroke', 'blue')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#months_purchase"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, monthMax[2]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Purchases per Month");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(months[2]))
                              .attr('stroke', 'red')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#months_meeting"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, monthMax[3]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Meetings per Month");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(months[3]))
                              .attr('stroke', 'black')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#years_all"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, yearMax[1]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Activities per Year");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(years[0]))
                              .attr('stroke', 'green')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');
                          vis.append('svg:path')
                              .attr('d', lineGen(years[1]))
                              .attr('stroke', 'blue')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');
                          vis.append('svg:path')
                              .attr('d', lineGen(years[2]))
                              .attr('stroke', 'red')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');
                          vis.append('svg:path')
                              .attr('d', lineGen(years[3]))
                              .attr('stroke', 'black')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#years_call"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, yearMax[0]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Calls per Year");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(years[0]))
                              .attr('stroke', 'green')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#years_email"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, yearMax[1]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Emails per Year");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(years[1]))
                              .attr('stroke', 'blue')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#years_purchase"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, yearMax[2]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH / 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Purchases per Year");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(years[2]))
                              .attr('stroke', 'red')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');


                          var vis = d3.select("#years_meeting"),
                              WIDTH = 1000,
                              HEIGHT = 500,
                              MARGINS = {
                                  top: 30,
                                  right: 20,
                                  bottom: 20,
                                  left: 50
                              },
                              xScale = d3.scaleTime().range([MARGINS.left, WIDTH - MARGINS.right]).domain([minDate, maxDate]),
                              yScale = d3.scaleLinear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([0, yearMax[3]]),
                              xAxis = d3.axisBottom(xScale),
                              yAxis = d3.axisLeft(yScale);

                          vis.append("text")
                              .attr("x", (WIDTH/ 2))
                              .attr("y", 0 - (MARGINS.top / 2))
                              .attr("text-anchor", "middle")
                              .style("font-size", "16px")
.style("color", "black")
                              .style("text-decoration", "underline")
                              .text("Meetings per Year");

                          vis.append("svg:g")
                              .attr("class", "x axis")
                              .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
                              .call(xAxis);
                          vis.append("svg:g")
                              .attr("class", "y axis")
                              .attr("transform", "translate(" + (MARGINS.left) + ",0)")
                              .call(yAxis);
                          var lineGen = d3.line()
                              .x(function(d) {
                                  return xScale(d.Date);
                              })
                              .y(function(d) {
                                  return yScale(d.Count);
                              });
                          vis.append('svg:path')
                              .attr('d', lineGen(years[3]))
                              .attr('stroke', 'black')
                              .attr('stroke-width', 2)
                              .attr('fill', 'none');
					  }
					});
				  }
				 
				  $(document).ready(function(){
					$("#csv-file").change(handleFileSelect);
				  });
				  
						
					}catch(err) {

                }
				console.log("Finished");
			</script>

        </div>

    </div>

</body>

</html>